<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mia Chatbot</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://www.gstatic.com/dialogflow-console/fast/messenger/webv2/css/df-messenger.css">
</head>
<body>
    <header>
        <img src="https://i.imgur.com/kj09wS4.png" alt="Iron Peak Roofing Logo" class="logo">
        <h1>Mia Chatbot</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="form.html">Estimate Form</a></li>
                <li><a href="review.html">Review Estimate</a></li>
                <li><a href="mia.html">Mia Chatbot</a></li>
            </ul>
        </nav>
    </header>

    <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/webv2/modern/df-messenger.js"></script>
    <df-messenger
        chat-icon="https://i.imgur.com/kj09wS4.png"
        intent="WELCOME"
        chat-title="Mia"
        agent-id="5343493c-e057-445c-a767-86216ae1862d"
        language-code="en"
        project-id="ipr-roof-estimate-form-review">
    </df-messenger>

    <style>
        df-messenger {
            z-index: 999;
            position: fixed;
            bottom: 16px;
            right: 16px;
            --df-messenger-bot-message: #878fac;
            --df-messenger-button-titlebar-color: #0056b3;
            --df-messenger-chat-background-color: #fafafa;
            --df-messenger-font-color: rgba(0, 0, 0, 0.87);
            --df-messenger-send-icon: #0056b3;
            --df-messenger-user-message: #0056b3;
        }
    </style>

    <main>
        <h2>Welcome to the Mia Chatbot Page!</h2>
        <p>This page will host the Mia chatbot for testing.</p>
    </main>

    <footer>
        <p>&copy; 2025 Iron Peak Roofing. All rights reserved.</p>
    </footer>

    <script>
        // Add error handling for the Dialogflow Messenger
        window.addEventListener('df-messenger-error', function (event) {
            console.error('Dialogflow Messenger Error:', event.detail);
        });

        // Add loaded event handler
        window.addEventListener('df-messenger-loaded', function (event) {
            console.log('Dialogflow Messenger loaded successfully');
        });
    </script>
</body>
</html>
